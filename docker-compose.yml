version: '3.2'
services:
  details:
    image:  details:V15
    container_name: details
    #build: ./details
    expose:
      - 9080
  ratings:
    image: ratings:V15
    container_name: ratings
    #build: ./ratings
    expose:
      - 9080
  reviews:
    image: reviews:V15
    container_name: reviews
    #build: ./reviews/reviews-wlpcfg
    expose:
      - 9080
  restwrapjdbc:
    image: cubeiocorp/restwrapjdbc:V15
    container_name: restwrapjdbc
    #build: ./RestWrapJDBC
    expose:
      - 8085
  mirest:
    image: cubeiocorp/mirest:V15
    container_name: mirest
    environment:
      - io.md.customer=CubeCorp
      - io.md.app=Jersy2xApp
      - io.md.instance=prod
      - io.md.servicename=mirest
      - io.md.service.endpoint=https://demo.dev.cubecorp.io/api/
      - io.md.authtoken=Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJNZXNoREFnZW50VXNlckBjdWJlY29ycC5pbyIsInJvbGVzIjpbIlJPTEVfVVNFUiJdLCJ0eXBlIjoicGF0IiwiY3VzdG9tZXJfaWQiOjMsImlhdCI6MTU4OTgyODI4NiwiZXhwIjoxOTA1MTg4Mjg2fQ.Xn6JTEIAi58it6iOSZ0G7u2waK6a_c-Elpk_cpWsK9s

    #command: nodemon --debug=5858
    #build: ./MIRest
    #network_mode: "host"
#    expose:
#      - 8080
#      - 5858
    ports:
       - 8080:8080
       #- 5858:5858
#      - target: 8080
#        published: 8080
#        protocol: tcp
#        mode: hosts